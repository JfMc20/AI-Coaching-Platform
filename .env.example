# Environment Configuration Example
# Copy this file to .env and update with your actual values
# DO NOT COMMIT .env TO VERSION CONTROL

# =============================================================================
# SECURITY CONFIGURATION (REQUIRED)
# =============================================================================

# JWT Secret Key - Generate with: openssl rand -base64 32
# CRITICAL: Use a strong, randomly generated secret in production
# DEV ONLY: Replace this placeholder with a real secret in production
JWT_SECRET_KEY=aB3dF6hJ9kL2mN5pQ8rT1uV4wX7yZ0cE5fH8iK1lM4nP7qS0tU3vW6xY9zA2bC5d

# Database Configuration
POSTGRES_DB=ai_platform_dev
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your-secure-postgres-password-here
DATABASE_URL=postgresql://postgres:your-secure-postgres-password-here@localhost:5432/ai_platform_dev

# Redis Configuration
REDIS_URL=redis://localhost:6379/0

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Environment
ENVIRONMENT=development
DEBUG=false
LOG_LEVEL=INFO

# JWT Configuration
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7
JWT_AUDIENCE=ai-platform-dev
JWT_ISSUER=ai-platform-auth-dev

# CORS Origins (comma-separated list)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# Allowed Hosts (comma-separated list)
ALLOWED_HOSTS=localhost,127.0.0.1

# =============================================================================
# AI SERVICES CONFIGURATION
# =============================================================================

# Ollama Configuration
OLLAMA_URL=http://localhost:11434
EMBEDDING_MODEL=nomic-embed-text
CHAT_MODEL=llama3.2

# ChromaDB Configuration
CHROMADB_URL=http://localhost:8000

# AI Processing Configuration
DEFAULT_CHUNK_SIZE=1000
DEFAULT_CHUNK_OVERLAP=200
CHROMA_SHARD_COUNT=1
CHROMA_MAX_CONNECTIONS_PER_INSTANCE=10

# =============================================================================
# SERVICE URLS (INTERNAL)
# =============================================================================

AUTH_SERVICE_URL=http://auth-service:8001
CREATOR_HUB_SERVICE_URL=http://creator-hub-service:8002
AI_ENGINE_SERVICE_URL=http://ai-engine-service:8003
CHANNEL_SERVICE_URL=http://channel-service:8004

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Authentication Security
MAX_FAILED_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION_MINUTES=30
PASSWORD_RESET_TOKEN_EXPIRE_MINUTES=60

# Rate Limiting
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# File Upload Configuration
MAX_FILE_SIZE_MB=50
SUPPORTED_FORMATS=["pdf", "txt", "docx", "md"]
UPLOADS_DIR=/var/lib/uploads

# =============================================================================
# VAULT CONFIGURATION (OPTIONAL)
# =============================================================================

# Vault Settings (for production secret management)
VAULT_ENABLED=false
VAULT_URL=http://localhost:8200
VAULT_TOKEN=your-vault-token-here
VAULT_MOUNT_POINT=secret

# =============================================================================
# EMAIL CONFIGURATION (OPTIONAL)
# =============================================================================

# Email Service
EMAIL_SERVICE_ENABLED=false
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your-email@example.com
SMTP_PASSWORD=your-email-password-here
FROM_EMAIL=noreply@yourapp.com

# =============================================================================
# MONITORING & OBSERVABILITY (OPTIONAL)
# =============================================================================

# Logging
SQL_ECHO=false

# WebSocket Configuration
WEBSOCKET_TIMEOUT=60
WEBSOCKET_MAX_CONNECTIONS=1000

# =============================================================================
# PRODUCTION OVERRIDES
# =============================================================================

# PostgreSQL Production Settings
POSTGRES_MAX_CONNECTIONS=200
POSTGRES_SHARED_BUFFERS=512MB
POSTGRES_EFFECTIVE_CACHE_SIZE=2GB
POSTGRES_WORK_MEM=8MB
POSTGRES_MAINTENANCE_WORK_MEM=128MB
POSTGRES_CHECKPOINT_COMPLETION_TARGET=0.9
POSTGRES_WAL_BUFFERS=16MB
POSTGRES_DEFAULT_STATISTICS_TARGET=100

# Nginx Configuration
NGINX_WORKER_PROCESSES=auto
NGINX_WORKER_CONNECTIONS=1024

# =============================================================================
# DEVELOPMENT HELPERS
# =============================================================================

# To generate secure secrets:
# JWT_SECRET_KEY: openssl rand -base64 32
# POSTGRES_PASSWORD: openssl rand -base64 16
# VAULT_TOKEN: openssl rand -hex 16

# To validate configuration:
# python scripts/validate-production-env.py